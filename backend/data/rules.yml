version: "3.1"

rules:
    - rule: Activate Add Task Form
      steps:
          - intent: add_task
          - action: add_task_form
          - active_loop: add_task_form
    - rule: Add Task Imformation
      condition:
          - active_loop: add_task_form
      steps:
          - action: add_task_form
          - active_loop: add_task_form
          - slot_was_set:
                - requested_slot: task_name
          - slot_was_set:
                - requested_slot: task_description
          - slot_was_set:
                - requested_slot: due_date

    - rule: Submit Add Task Form
      condition:
          - active_loop: add_task_form
      steps:
          - action: add_task_form
          - active_loop: null
          - slot_was_set:
                - requested_slot: null
          - action: utter_submit
          - action: utter_added_task

    # - rule: Interruption in Pizza Form
    #   condition:
    #       # Condition that form is active.
    #       - active_loop: simple_pizza_form
    #   steps:
    #       # This unhappy path handles the case of an intent `bot_challenge`.
    #       - intent: bot_challenge
    #       - action: utter_iamabot
    #       # Return to form after handling the `bot_challenge` intent
    #       - action: simple_pizza_form
    #       - active_loop: simple_pizza_form
